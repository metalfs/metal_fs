{
	"name": "Metal FS",
	"image": "metalfs/build-hw:webpack",
	"extensions": [
		"ms-vscode.cpptools"
	],
	"runArgs": [
		"-e",
		"DISPLAY=${env:DISPLAY}",
		"-v",
		"/tmp/.X11-unix:/tmp/.X11-unix",
		"--device",
		"/dev/fuse",
		"--cap-add",
		"SYS_ADMIN",
		"--cap-add",
		"SYS_PTRACE",
		"--security-opt",
		"apparmor=unconfined",
		"--security-opt",
		"seccomp=unconfined"
	],
	// There is a name collision with Ubuntu Snaps, which eventually results in VS Code
	// removing the image-defined SNAP_ROOT environment variable.
	// We can work around this by explicitly loading it from the bash profile.
	"postCreateCommand": "echo export SNAP_ROOT=/frameworks/snap >> ~/.snap_profile"
}
