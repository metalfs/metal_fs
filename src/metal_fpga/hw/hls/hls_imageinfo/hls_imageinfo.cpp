#include <ap_int.h>
#include "info.hpp"

// typedef unsigned char  test[351];

auto hls_imageinfo () -> decltype(info) {
    // info_len and info are generated by xxd -i
//    #pragma HLS INTERFACE s_axilite port=info_len bundle=ctrl offset=0x010 register
//    #pragma HLS INTERFACE s_axilite port=info bundle=ctrl offset=0x200 register
    #pragma HLS INTERFACE s_axilite port=return bundle=ctrl

	return {
		  0x7b, 0x22, 0x74, 0x61, 0x72, 0x67, 0x65, 0x74, 0x22, 0x3a, 0x22, 0x53,
		  0x4e, 0x41, 0x50, 0x5f, 0x4e, 0x32, 0x35, 0x30, 0x22, 0x2c, 0x22, 0x73,
		  0x74, 0x72, 0x65, 0x61, 0x6d, 0x5f, 0x62, 0x79, 0x74, 0x65, 0x73, 0x22,
		  0x3a, 0x38, 0x2c, 0x22, 0x6f, 0x70, 0x65, 0x72, 0x61, 0x74, 0x6f, 0x72,
		  0x73, 0x22, 0x3a, 0x7b, 0x22, 0x63, 0x6f, 0x6c, 0x6f, 0x72, 0x66, 0x69,
		  0x6c, 0x74, 0x65, 0x72, 0x22, 0x3a, 0x7b, 0x22, 0x69, 0x6e, 0x74, 0x65,
		  0x72, 0x6e, 0x61, 0x6c, 0x5f, 0x69, 0x64, 0x22, 0x3a, 0x31, 0x2c, 0x22,
		  0x64, 0x65, 0x73, 0x63, 0x72, 0x69, 0x70, 0x74, 0x69, 0x6f, 0x6e, 0x22,
		  0x3a, 0x22, 0x43, 0x6f, 0x6e, 0x76, 0x65, 0x72, 0x74, 0x20, 0x62, 0x69,
		  0x74, 0x6d, 0x61, 0x70, 0x20, 0x74, 0x6f, 0x20, 0x67, 0x72, 0x61, 0x79,
		  0x73, 0x63, 0x61, 0x6c, 0x65, 0x22, 0x2c, 0x22, 0x6f, 0x70, 0x74, 0x69,
		  0x6f, 0x6e, 0x73, 0x22, 0x3a, 0x7b, 0x7d, 0x7d, 0x2c, 0x22, 0x63, 0x68,
		  0x61, 0x6e, 0x67, 0x65, 0x63, 0x61, 0x73, 0x65, 0x22, 0x3a, 0x7b, 0x22,
		  0x69, 0x6e, 0x74, 0x65, 0x72, 0x6e, 0x61, 0x6c, 0x5f, 0x69, 0x64, 0x22,
		  0x3a, 0x32, 0x2c, 0x22, 0x64, 0x65, 0x73, 0x63, 0x72, 0x69, 0x70, 0x74,
		  0x69, 0x6f, 0x6e, 0x22, 0x3a, 0x22, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x66,
		  0x6f, 0x72, 0x6d, 0x20, 0x41, 0x53, 0x43, 0x49, 0x49, 0x20, 0x73, 0x74,
		  0x72, 0x69, 0x6e, 0x67, 0x73, 0x20, 0x74, 0x6f, 0x20, 0x6c, 0x6f, 0x77,
		  0x65, 0x72, 0x2d, 0x20, 0x6f, 0x72, 0x20, 0x75, 0x70, 0x70, 0x65, 0x72,
		  0x63, 0x61, 0x73, 0x65, 0x20, 0x28, 0x64, 0x65, 0x66, 0x61, 0x75, 0x6c,
		  0x74, 0x29, 0x22, 0x2c, 0x22, 0x6f, 0x70, 0x74, 0x69, 0x6f, 0x6e, 0x73,
		  0x22, 0x3a, 0x7b, 0x22, 0x6c, 0x6f, 0x77, 0x65, 0x72, 0x63, 0x61, 0x73,
		  0x65, 0x22, 0x3a, 0x7b, 0x22, 0x73, 0x68, 0x6f, 0x72, 0x74, 0x22, 0x3a,
		  0x22, 0x6c, 0x22, 0x2c, 0x22, 0x74, 0x79, 0x70, 0x65, 0x22, 0x3a, 0x22,
		  0x62, 0x6f, 0x6f, 0x6c, 0x22, 0x2c, 0x22, 0x64, 0x65, 0x73, 0x63, 0x72,
		  0x69, 0x70, 0x74, 0x69, 0x6f, 0x6e, 0x22, 0x3a, 0x22, 0x54, 0x72, 0x61,
		  0x6e, 0x73, 0x66, 0x6f, 0x72, 0x6d, 0x20, 0x74, 0x6f, 0x20, 0x6c, 0x6f,
		  0x77, 0x65, 0x72, 0x63, 0x61, 0x73, 0x65, 0x22, 0x2c, 0x22, 0x6f, 0x66,
		  0x66, 0x73, 0x65, 0x74, 0x22, 0x3a, 0x32, 0x35, 0x36, 0x7d, 0x7d, 0x7d,
		  0x7d, 0x7d, 0x0a
		};

    // Pretend to do something, to prevent HLS from optimizing away the variables.
//    ap_uint<8> nonsense = 0;
//    for (int i = 0; i < info_len; ++i) {
//    	nonsense |= info[i];
//    }
//	return nonsense;
    //return info[info_len-1];
//	p_info = info;
//	p_info_len = info_len;
}
